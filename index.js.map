{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/js/toast.js","../src/main.js"],"sourcesContent":["function getImagesMarkup(images) {\n  return images.hits\n    .map(\n      element =>\n        `<li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${element.largeImageURL}\">\n\t\t<img\n\t\t\tclass=\"gallery-image\"\n\t\t\tsrc=\"${element.webformatURL}\"\n\t\t\talt=\"${element.tags}\"\n\t\t\t/>\n\t</a>\n  <ul class=\"image-info\">\n   <li class=\"image-item-info\">\n        <span class=\"text-accent\">Likes</span>\n        <span class=\"text-comment\">${element.likes}</span>\n    </li>\n    <li class=\"image-item-info\">\n      <span class=\"text-accent\">Views</span>\n      <span class=\"text-comment\">${element.views}</span>\n    </li>\n    <li class=\"image-item-info\">\n      <span class=\"text-accent\">Comments</span>\n      <span class=\"text-comment\">${element.comments}</span>\n    </li>\n    <li class=\"image-item-info\">\n      <span class=\"text-accent\">Downloads</span>\n      <span class=\"text-comment\">${element.downloads}</span>\n    </li>\n  </ul>\n \n</li>`\n    )\n    .join('');\n}\n\nexport { getImagesMarkup };\n","const API_KEY = '46452979-80039da2fd5690445e01cff1c';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nfunction searchImages(q) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}/?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nexport { searchImages };\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nfunction displayError() {\n  iziToast.error({\n    message: `Sorry, there are no images matching your search query. Please try again!`,\n    position: 'topRight',\n  });\n}\n\nexport { displayError };\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { getImagesMarkup } from './js/render-functions';\nimport { searchImages } from './js/pixabay-api';\nimport { displayError } from './js/toast';\n\nconst refs = {\n  gallery: document.querySelector('.gallery'),\n  searchForm: document.getElementById('searchPhotoForm'),\n  loader: document.querySelector('.loader'),\n};\n\nrefs.searchForm.addEventListener('submit', handleSearchFormSubmit);\n\nfunction handleSearchFormSubmit(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n  const q = form.elements.q.value.trim();\n  refs.loader.classList.remove('loader-off');\n  searchImages(q)\n    .then(images => {\n      refs.gallery.innerHTML = '';\n      if (images.total === 0) {\n        refs.loader.classList.add('loader-off');\n        displayError();\n        return;\n      }\n      const imagesMarkup = getImagesMarkup(images);\n      refs.loader.classList.add('loader-off');\n      refs.gallery.insertAdjacentHTML('beforeend', imagesMarkup);\n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n    .catch(e => {\n      console.error(e);\n      displayError();\n    })\n    .finally(() => form.reset());\n}\n"],"names":["getImagesMarkup","images","element","API_KEY","BASE_URL","searchImages","q","params","res","displayError","iziToast","refs","handleSearchFormSubmit","e","form","imagesMarkup","SimpleLightbox"],"mappings":"6vBAAA,SAASA,EAAgBC,EAAQ,CAC/B,OAAOA,EAAO,KACX,IACCC,GACE;AAAA,iCACyBA,EAAQ,aAAa;AAAA;AAAA;AAAA,UAG5CA,EAAQ,YAAY;AAAA,UACpBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAMeA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIfA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,mCAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,mCAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,MAK/C,EACA,KAAK,EAAE,CACZ,CClCA,MAAMC,EAAU,qCACVC,EAAW,2BAEjB,SAASC,EAAaC,EAAG,CACvB,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAAG,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,KAAKG,CAAM,EAAE,EAAE,KAAKC,GAAO,CACjD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCdA,SAASC,GAAe,CACtBC,EAAS,MAAM,CACb,QAAS,2EACT,SAAU,UACd,CAAG,CACH,CCFA,MAAMC,EAAO,CACX,QAAS,SAAS,cAAc,UAAU,EAC1C,WAAY,SAAS,eAAe,iBAAiB,EACrD,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,WAAW,iBAAiB,SAAUC,CAAsB,EAEjE,SAASA,EAAuBC,EAAG,CACjCA,EAAE,eAAc,EAChB,MAAMC,EAAOD,EAAE,cACTP,EAAIQ,EAAK,SAAS,EAAE,MAAM,OAChCH,EAAK,OAAO,UAAU,OAAO,YAAY,EACzCN,EAAaC,CAAC,EACX,KAAKL,GAAU,CAEd,GADAU,EAAK,QAAQ,UAAY,GACrBV,EAAO,QAAU,EAAG,CACtBU,EAAK,OAAO,UAAU,IAAI,YAAY,EACtCF,IACA,MACD,CACD,MAAMM,EAAef,EAAgBC,CAAM,EAC3CU,EAAK,OAAO,UAAU,IAAI,YAAY,EACtCA,EAAK,QAAQ,mBAAmB,YAAaI,CAAY,EACxC,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMH,GAAK,CACV,QAAQ,MAAMA,CAAC,EACfJ,GACN,CAAK,EACA,QAAQ,IAAMK,EAAK,MAAK,CAAE,CAC/B"}